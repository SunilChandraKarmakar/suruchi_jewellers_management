{"ast":null,"code":"import { __decorate, __metadata } from 'tslib';\nimport { Directionality, BidiModule } from '@angular/cdk/bidi';\nimport { Component, ChangeDetectionStrategy, ViewEncapsulation, ElementRef, ChangeDetectorRef, Renderer2, Optional, ContentChild, Input, NgModule } from '@angular/core';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { warnDeprecation } from 'ng-zorro-antd/core/logger';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\nimport { NzIconDirective, NzIconModule } from 'ng-zorro-antd/icon';\nimport { Subject } from 'rxjs';\nimport { takeUntil, startWith, filter } from 'rxjs/operators';\nimport { CommonModule } from '@angular/common';\nimport { ÉµNzTransitionPatchModule } from 'ng-zorro-antd/core/transition-patch';\nimport { NzWaveModule } from 'ng-zorro-antd/core/wave';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst NZ_CONFIG_MODULE_NAME = 'button';\nlet NzButtonComponent = /*#__PURE__*/(() => {\n  class NzButtonComponent {\n    constructor(elementRef, cdr, renderer, nzConfigService, directionality) {\n      this.elementRef = elementRef;\n      this.cdr = cdr;\n      this.renderer = renderer;\n      this.nzConfigService = nzConfigService;\n      this.directionality = directionality;\n      this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n      this.nzBlock = false;\n      this.nzGhost = false;\n      this.nzSearch = false;\n      this.nzLoading = false;\n      this.nzDanger = false;\n      this.disabled = false;\n      this.tabIndex = null;\n      this.nzType = null;\n      this.nzShape = null;\n      this.nzSize = 'default';\n      this.dir = 'ltr';\n      this.destroy$ = new Subject();\n      this.loading$ = new Subject();\n      // TODO: move to host after View Engine deprecation\n      this.elementRef.nativeElement.classList.add('ant-btn');\n      this.nzConfigService.getConfigChangeEventForComponent(NZ_CONFIG_MODULE_NAME).pipe(takeUntil(this.destroy$)).subscribe(() => {\n        this.cdr.markForCheck();\n      });\n    }\n    insertSpan(nodes, renderer) {\n      nodes.forEach(node => {\n        if (node.nodeName === '#text') {\n          const span = renderer.createElement('span');\n          const parent = renderer.parentNode(node);\n          renderer.insertBefore(parent, span, node);\n          renderer.appendChild(span, node);\n        }\n      });\n    }\n    assertIconOnly(element, renderer) {\n      const listOfNode = Array.from(element.childNodes);\n      const iconCount = listOfNode.filter(node => node.nodeName === 'I').length;\n      const noText = listOfNode.every(node => node.nodeName !== '#text');\n      const noSpan = listOfNode.every(node => node.nodeName !== 'SPAN');\n      const isIconOnly = noSpan && noText && iconCount >= 1;\n      if (isIconOnly) {\n        renderer.addClass(element, 'ant-btn-icon-only');\n      }\n    }\n    ngOnInit() {\n      var _a;\n      (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe(direction => {\n        this.dir = direction;\n        this.cdr.detectChanges();\n      });\n      this.dir = this.directionality.value;\n    }\n    ngOnChanges(changes) {\n      const {\n        nzLoading,\n        nzType\n      } = changes;\n      if (nzLoading) {\n        this.loading$.next(this.nzLoading);\n      }\n      if ((nzType === null || nzType === void 0 ? void 0 : nzType.currentValue) === 'danger') {\n        warnDeprecation(`'danger' value of 'nzType' in Button is going to be removed in 12.0.0. Please use 'nzDanger' instead.`);\n      }\n    }\n    ngAfterViewInit() {\n      this.assertIconOnly(this.elementRef.nativeElement, this.renderer);\n      this.insertSpan(this.elementRef.nativeElement.childNodes, this.renderer);\n    }\n    ngAfterContentInit() {\n      this.loading$.pipe(startWith(this.nzLoading), filter(() => !!this.nzIconDirectiveElement), takeUntil(this.destroy$)).subscribe(loading => {\n        const nativeElement = this.nzIconDirectiveElement.nativeElement;\n        if (loading) {\n          this.renderer.setStyle(nativeElement, 'display', 'none');\n        } else {\n          this.renderer.removeStyle(nativeElement, 'display');\n        }\n      });\n    }\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n  }\n  __decorate([InputBoolean(), __metadata(\"design:type\", Boolean)], NzButtonComponent.prototype, \"nzBlock\", void 0);\n  __decorate([InputBoolean(), __metadata(\"design:type\", Boolean)], NzButtonComponent.prototype, \"nzGhost\", void 0);\n  __decorate([InputBoolean(), __metadata(\"design:type\", Boolean)], NzButtonComponent.prototype, \"nzSearch\", void 0);\n  __decorate([InputBoolean(), __metadata(\"design:type\", Boolean)], NzButtonComponent.prototype, \"nzLoading\", void 0);\n  __decorate([InputBoolean(), __metadata(\"design:type\", Boolean)], NzButtonComponent.prototype, \"nzDanger\", void 0);\n  __decorate([InputBoolean(), __metadata(\"design:type\", Boolean)], NzButtonComponent.prototype, \"disabled\", void 0);\n  __decorate([WithConfig(), __metadata(\"design:type\", String)], NzButtonComponent.prototype, \"nzSize\", void 0);\n\n  /**\n   * Use of this source code is governed by an MIT-style license that can be\n   * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n   */\n  return NzButtonComponent;\n})();\nclass NzButtonGroupComponent {\n  constructor(elementRef, directionality) {\n    this.elementRef = elementRef;\n    this.directionality = directionality;\n    this.nzSize = 'default';\n    this.dir = 'ltr';\n    this.destroy$ = new Subject();\n    // TODO: move to host after View Engine deprecation\n    this.elementRef.nativeElement.classList.add('ant-btn-group');\n  }\n  ngOnInit() {\n    var _a;\n    this.dir = this.directionality.value;\n    (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe(direction => {\n      this.dir = direction;\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzButtonModule {}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NzButtonComponent, NzButtonGroupComponent, NzButtonModule };\n//# sourceMappingURL=ng-zorro-antd-button.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}