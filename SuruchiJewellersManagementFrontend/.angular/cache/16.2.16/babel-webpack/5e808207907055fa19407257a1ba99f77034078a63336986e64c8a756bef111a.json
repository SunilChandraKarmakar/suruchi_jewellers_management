{"ast":null,"code":"import { TemplatePortal, ComponentPortal, PortalModule } from '@angular/cdk/portal';\nimport { InjectionToken, TemplateRef, Type, Injector, Component, ChangeDetectionStrategy, ViewEncapsulation, ViewContainerRef, ChangeDetectorRef, Input, NgModule } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { startWith, takeUntil } from 'rxjs/operators';\nimport { NzConfigService } from 'ng-zorro-antd/core/config';\nimport { NzI18nService, NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { CommonModule } from '@angular/common';\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst NZ_EMPTY_COMPONENT_NAME = new InjectionToken('nz-empty-component-name');\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction getEmptySize(componentName) {\n  switch (componentName) {\n    case 'table':\n    case 'list':\n      return 'normal';\n    case 'select':\n    case 'tree-select':\n    case 'cascader':\n    case 'transfer':\n      return 'small';\n    default:\n      return '';\n  }\n}\nclass NzEmbedEmptyComponent {\n  constructor(configService, viewContainerRef, cdr, injector) {\n    this.configService = configService;\n    this.viewContainerRef = viewContainerRef;\n    this.cdr = cdr;\n    this.injector = injector;\n    this.contentType = 'string';\n    this.size = '';\n    this.destroy$ = new Subject();\n  }\n  ngOnChanges(changes) {\n    if (changes.nzComponentName) {\n      this.size = getEmptySize(changes.nzComponentName.currentValue);\n    }\n    if (changes.specificContent && !changes.specificContent.isFirstChange()) {\n      this.content = changes.specificContent.currentValue;\n      this.renderEmpty();\n    }\n  }\n  ngOnInit() {\n    this.subscribeDefaultEmptyContentChange();\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  renderEmpty() {\n    const content = this.content;\n    if (typeof content === 'string') {\n      this.contentType = 'string';\n    } else if (content instanceof TemplateRef) {\n      const context = {\n        $implicit: this.nzComponentName\n      };\n      this.contentType = 'template';\n      this.contentPortal = new TemplatePortal(content, this.viewContainerRef, context);\n    } else if (content instanceof Type) {\n      const injector = Injector.create({\n        parent: this.injector,\n        providers: [{\n          provide: NZ_EMPTY_COMPONENT_NAME,\n          useValue: this.nzComponentName\n        }]\n      });\n      this.contentType = 'component';\n      this.contentPortal = new ComponentPortal(content, this.viewContainerRef, injector);\n    } else {\n      this.contentType = 'string';\n      this.contentPortal = undefined;\n    }\n    this.cdr.detectChanges();\n  }\n  subscribeDefaultEmptyContentChange() {\n    this.configService.getConfigChangeEventForComponent('empty').pipe(startWith(true), takeUntil(this.destroy$)).subscribe(() => {\n      this.content = this.specificContent || this.getUserDefaultEmptyContent();\n      this.renderEmpty();\n    });\n  }\n  getUserDefaultEmptyContent() {\n    return (this.configService.getConfigForComponent('empty') || {}).nzDefaultEmptyContent;\n  }\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst NzEmptyDefaultImages = ['default', 'simple'];\nclass NzEmptyComponent {\n  constructor(i18n, cdr) {\n    this.i18n = i18n;\n    this.cdr = cdr;\n    this.nzNotFoundImage = 'default';\n    this.isContentString = false;\n    this.isImageBuildIn = true;\n    this.destroy$ = new Subject();\n  }\n  ngOnChanges(changes) {\n    const {\n      nzNotFoundContent,\n      nzNotFoundImage\n    } = changes;\n    if (nzNotFoundContent) {\n      const content = nzNotFoundContent.currentValue;\n      this.isContentString = typeof content === 'string';\n    }\n    if (nzNotFoundImage) {\n      const image = nzNotFoundImage.currentValue || 'default';\n      this.isImageBuildIn = NzEmptyDefaultImages.findIndex(i => i === image) > -1;\n    }\n  }\n  ngOnInit() {\n    this.i18n.localeChange.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.locale = this.i18n.getLocaleData('Empty');\n      this.cdr.markForCheck();\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzEmptyDefaultComponent {}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzEmptySimpleComponent {}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzEmptyModule {}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NZ_EMPTY_COMPONENT_NAME, NzEmbedEmptyComponent, NzEmptyComponent, NzEmptyDefaultComponent, NzEmptyModule, NzEmptySimpleComponent };\n//# sourceMappingURL=ng-zorro-antd-empty.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}